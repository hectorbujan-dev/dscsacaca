{% extends "base.html" %}

{% block title %}Mi Equipo - Pok√©dex UAX{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1 class="page-title">üéØ Mi Equipo Pok√©mon</h1>
        <p>Puedes tener hasta 6 Pok√©mon en tu equipo</p>
    </div>

    {% if equipo %}
        <div class="team-info">
            <div class="team-count">Pok√©mon en equipo: <strong>{{ equipo|length }}/6</strong></div>
        </div>
        
        <div class="team-grid">
            {% for pokemon in equipo %}
            <div class="team-card">
                <div class="pokemon-id">#{{ '%03d'|format(pokemon.id) }}</div>
                
                <div class="pokemon-image">
                    <a href="{{ url_for('pokemon_detalle', pokemon_id=pokemon.id) }}">
                        <img src="{{ pokemon.img.official_artwork or pokemon.img.front_default }}" 
                             alt="{{ pokemon.name.es }}">
                    </a>
                </div>
                
                <h3 class="pokemon-name">{{ pokemon.name.en|capitalize if pokemon.name.en and pokemon.name.en != 'none' else ' ' }}</h3>
                <p class="pokemon-subtitle">{{ pokemon.name.es if pokemon.name.es and pokemon.name.es != 'none' else ' ' }}</p>
                
                <div class="pokemon-types">
                    {% for tipo in pokemon.types %}
                    <span class="type-badge type-{{ tipo }}">{{ tipo }}</span>
                    {% endfor %}
                </div>
                
                <div class="team-stats">
                    <div class="mini-stat">
                        <span class="mini-stat-label">HP</span>
                        <span class="mini-stat-value">{{ pokemon.stats.hp }}</span>
                    </div>
                    <div class="mini-stat">
                        <span class="mini-stat-label">ATK</span>
                        <span class="mini-stat-value">{{ pokemon.stats.attack }}</span>
                    </div>
                    <div class="mini-stat">
                        <span class="mini-stat-label">DEF</span>
                        <span class="mini-stat-value">{{ pokemon.stats.defense }}</span>
                    </div>
                    <div class="mini-stat">
                        <span class="mini-stat-label">SPD</span>
                        <span class="mini-stat-value">{{ pokemon.stats.speed }}</span>
                    </div>
                </div>
                
                <form action="{{ url_for('eliminar_equipo', pokemon_id=pokemon.id) }}" method="POST" class="remove-form">
                    <button type="submit" class="btn-remove" onclick="return confirm('¬øSeguro que quieres eliminar a {{ pokemon.name.es }} de tu equipo?')">
                        ‚ùå Eliminar del equipo
                    </button>
                </form>
            </div>
            {% endfor %}
        </div>
        
        {% if equipo|length < 6 %}
        <div class="add-more">
            <p>üîç <a href="{{ url_for('index') }}">Busca m√°s Pok√©mon</a> para completar tu equipo</p>
        </div>
        {% endif %}
    {% else %}
        <div class="empty-team">
            <div class="empty-icon">üéØ</div>
            <h2>Tu equipo est√° vac√≠o</h2>
            <p>A√∫n no has agregado ning√∫n Pok√©mon a tu equipo</p>
            <a href="{{ url_for('index') }}" class="btn-primary btn-large">üîç Buscar Pok√©mon</a>
        </div>
    {% endif %}
</div>
{% endblock %}
